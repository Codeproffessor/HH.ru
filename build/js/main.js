function bgVisible(){var e=document.querySelector(".form__bg-img").classList;e.contains("unvisible")&&e.remove("unvisible")}function shake(){document.getElementById("form-submit").classList.add("shake_animation"),setTimeout(function(){document.getElementById("form-submit").classList.remove("shake_animation")},720)}function addInputStyle(e){document.getElementById(e).classList.add("form__input-color")}function deleteInputStyle(e){document.getElementById(e).classList.remove("form__input-color")}function validatePasswordValue(){var e=document.getElementById("pass"),t=document.getElementById("conf-pass");e.value!=t.value?t.setCustomValidity("Пароли не совпадают"):t.setCustomValidity("")}function validatePasswordConfirm(){(document.getElementById("pass").value!=document.getElementById("conf-pass").value?passMessageDoNotMatchVisible:passMessageDoNotMatchUnvisible)()}function formIsValid(){return!!(emailIsValid()&&passIsValid()&&confpassIsValid())}function successMessage(){var e={FirstBlock:"",SecondBlock:"",ThirdBlock:"",FourthBlock:"",FifthBlock:""};e.FirstBlock=document.getElementsByClassName("form__enter-content")[0],e.SecondBlock=document.getElementById("form-submit"),e.ThirdBlock=document.getElementsByClassName("top-content")[0],e.FourthBlock=document.getElementsByClassName("form__bg-img")[0],e.FifthBlock=document.getElementsByClassName("registered-message")[0],animated(),setTimeout(function(){e.FirstBlock.classList.add("unvisible"),e.SecondBlock.classList.add("unvisible"),e.ThirdBlock.classList.add("unvisible"),e.FourthBlock.classList.add("unvisible"),e.FifthBlock.classList.remove("unvisible"),document.getElementsByClassName("form__enter-content")[0].reset()},450),setTimeout(function(){e.FirstBlock.classList.remove("unvisible"),e.SecondBlock.classList.remove("unvisible"),e.ThirdBlock.classList.remove("unvisible"),e.FourthBlock.classList.remove("unvisible"),e.FifthBlock.classList.add("unvisible")},5200)}function animated(){messageUnvisible(),setTimeout(function(){messageVisible()},500),setTimeout(function(){messageUnvisible(),setTimeout(function(){messageVisible()},700)},4500)}function messageVisible(){var e=document.querySelectorAll(".sign-content")[0].classList;1==e.contains("unvisible")&&e.remove("unvisible"),setTimeout(function(){e.remove("opacityNone")},50)}function messageUnvisible(){var e=document.querySelectorAll(".sign-content")[0];e.classList.add("opacityNone"),e.addEventListener("transitionend",addHiddenClass(),!1)}function addHiddenClass(){setTimeout(function(){document.querySelectorAll(".sign-content")[0].classList.add("unvisible")},500)}function emailIsValid(){return document.getElementById("e-mail").checkValidity()}function passIsValid(){return document.getElementById("pass").checkValidity()}function confpassIsValid(){return document.getElementById("conf-pass").checkValidity()}function invalidMessageVisibility(e){document.getElementsByClassName(e)[0].classList.remove("unvisible"),setTimeout(function(){document.getElementsByClassName(e)[0].classList.add("unvisible")},3e3)}function emailMessageVisibility(){emailIsValid()||invalidMessageVisibility("email-message")}function passMessageVisibility(){passIsValid()&&confpassIsValid(),invalidMessageVisibility("pass-message")}function passMessageDoNotMatchVisible(){document.getElementsByClassName("pass-message-do-not-match")[0].classList.remove("unvisible")}function passMessageDoNotMatchUnvisible(){document.getElementsByClassName("pass-message-do-not-match")[0].classList.add("unvisible")}window.onload=function(){function e(e){var t=document.getElementsByClassName(e)[0],s=setInterval(function(){t.style.opacity||(t.style.opacity=1),0<t.style.opacity?t.style.opacity-=.05:clearInterval(s)},30)}e("loader"),setTimeout(function(){e("loaderArea")},200),setTimeout(function(){bgVisible()},800)},setTimeout(function(){document.getElementsByClassName("loaderArea")[0].classList.add("unvisible")},1e3);var formData={Firstname:"",LastName:"",Nationality:"",Email:"",DataOne:"",DataTwo:"",DataThree:"",Gender:"",Pass:""};function genderChecked(){return document.getElementById("male").checked?"male":document.getElementById("feamale").checked?"feamale":void 0}function someFunc(){formData.Firstname=document.getElementById("first-name").value,formData.LastName=document.getElementById("last-name").value,formData.Nationality=document.getElementById("nationality").value,formData.Email=document.getElementById("e-mail").value,formData.DataOne=document.getElementById("day").value,formData.DataTwo=document.getElementById("month").value,formData.DataThree=document.getElementById("year").value,formData.Gender=genderChecked(),formData.Pass=document.getElementById("conf-pass").value}var submit=function(){var e={firstname:formData.Firstname,lastname:formData.LastName,nationality:formData.Nationality,email:formData.Email,data:formData.DataOne+" "+formData.DataTwo+" "+formData.DataThree,gender:formData.Gender,pass:formData.Pass};fetch("http://localhost:3000/users",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)})};function sendMessage(){formIsValid()?(someFunc(),submit(),successMessage()):(shake(),emailMessageVisibility(),emailIsValid()&&passMessageVisibility())}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYmdWaXNpYmxlIiwibWFzc2l2ZUNsYXNzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJzaGFrZSIsImdldEVsZW1lbnRCeUlkIiwiYWRkIiwic2V0VGltZW91dCIsImFkZElucHV0U3R5bGUiLCJ2YWx1ZSIsImRlbGV0ZUlucHV0U3R5bGUiLCJ2YWxpZGF0ZVBhc3N3b3JkVmFsdWUiLCJwYXNzd29yZCIsImNvbmZpcm1fcGFzc3dvcmQiLCJzZXRDdXN0b21WYWxpZGl0eSIsInZhbGlkYXRlUGFzc3dvcmRDb25maXJtIiwicGFzc01lc3NhZ2VEb05vdE1hdGNoVmlzaWJsZSIsInBhc3NNZXNzYWdlRG9Ob3RNYXRjaFVudmlzaWJsZSIsImZvcm1Jc1ZhbGlkIiwiZW1haWxJc1ZhbGlkIiwicGFzc0lzVmFsaWQiLCJjb25mcGFzc0lzVmFsaWQiLCJzdWNjZXNzTWVzc2FnZSIsIkJsb2Nrc1JlZ2lzdHJhdGlvbiIsIkZpcnN0QmxvY2siLCJTZWNvbmRCbG9jayIsIlRoaXJkQmxvY2siLCJGb3VydGhCbG9jayIsIkZpZnRoQmxvY2siLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYW5pbWF0ZWQiLCJyZXNldCIsIm1lc3NhZ2VVbnZpc2libGUiLCJtZXNzYWdlVmlzaWJsZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZEhpZGRlbkNsYXNzIiwiY2hlY2tWYWxpZGl0eSIsImludmFsaWRNZXNzYWdlVmlzaWJpbGl0eSIsImVtYWlsTWVzc2FnZVZpc2liaWxpdHkiLCJwYXNzTWVzc2FnZVZpc2liaWxpdHkiLCJ3aW5kb3ciLCJvbmxvYWQiLCJmYWRlT3V0RWZmZWN0IiwiZmFkZVRhcmdldCIsImZhZGVFZmZlY3QiLCJzZXRJbnRlcnZhbCIsInN0eWxlIiwib3BhY2l0eSIsImNsZWFySW50ZXJ2YWwiLCJmb3JtRGF0YSIsIkZpcnN0bmFtZSIsIkxhc3ROYW1lIiwiTmF0aW9uYWxpdHkiLCJFbWFpbCIsIkRhdGFPbmUiLCJEYXRhVHdvIiwiRGF0YVRocmVlIiwiR2VuZGVyIiwiUGFzcyIsImdlbmRlckNoZWNrZWQiLCJjaGVja2VkIiwic29tZUZ1bmMiLCJzdWJtaXQiLCJwYXlsb2FkIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJuYXRpb25hbGl0eSIsImVtYWlsIiwiZGF0YSIsImdlbmRlciIsInBhc3MiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNlbmRNZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUE0QkEsU0FBU0EsWUFDTCxJQUNJQyxFQURPQyxTQUFTQyxjQUFjLGlCQUNWQyxVQUNwQkgsRUFBYUksU0FBUyxjQUN0QkosRUFBYUssT0FBTyxhQUs1QixTQUFTQyxRQUNMTCxTQUFTTSxlQUFlLGVBQWVKLFVBQVVLLElBQUksbUJBRXJEQyxXQUFXLFdBQ1BSLFNBQVNNLGVBQWUsZUFBZUosVUFBVUUsT0FBTyxvQkFDekQsS0FHUCxTQUFTSyxjQUFjQyxHQUNuQlYsU0FBU00sZUFBZUksR0FBT1IsVUFBVUssSUFBSSxxQkFFakQsU0FBU0ksaUJBQWlCRCxHQUN0QlYsU0FBU00sZUFBZUksR0FBT1IsVUFBVUUsT0FBTyxxQkFJcEQsU0FBU1Esd0JBQ0wsSUFBSUMsRUFBV2IsU0FBU00sZUFBZSxRQUNqQ1EsRUFBbUJkLFNBQVNNLGVBQWUsYUFDN0NPLEVBQVNILE9BQVNJLEVBQWlCSixNQUNuQ0ksRUFBaUJDLGtCQUFrQix1QkFFbkNELEVBQWlCQyxrQkFBa0IsSUFHM0MsU0FBU0MsMkJBQ0RoQixTQUFTTSxlQUFlLFFBQVFJLE9BQVNWLFNBQVNNLGVBQWUsYUFBYUksTUFDOUVPLDZCQUVBQyxrQ0FJUixTQUFTQyxjQUVMLFNBQUlDLGdCQUFrQkMsZUFBaUJDLG1CQU0zQyxTQUFTQyxpQkFDTCxJQUFJQyxFQUFxQixDQUNyQkMsV0FBWSxHQUNa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Q0ExQyxtQkFUQWxCLFFBQ0FvQyx5QkFDSXJCLGdCQUNBc0IiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vUFJFTE9BREVSXHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBmYWRlT3V0RWZmZWN0KCdsb2FkZXInKTtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZhZGVPdXRFZmZlY3QoJ2xvYWRlckFyZWEnKTtcclxuICAgIH0sIDIwMCk7XHJcbiAgICBmdW5jdGlvbiBmYWRlT3V0RWZmZWN0KHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGZhZGVUYXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHZhbHVlKVswXSxcclxuICAgICAgICAgICAgZmFkZUVmZmVjdCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZmFkZVRhcmdldC5zdHlsZS5vcGFjaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFkZVRhcmdldC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmYWRlVGFyZ2V0LnN0eWxlLm9wYWNpdHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFkZVRhcmdldC5zdHlsZS5vcGFjaXR5IC09IDAuMDU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZmFkZUVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDMwKTtcclxuICAgIH1cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGJnVmlzaWJsZSgpO1xyXG4gICAgfSwgODAwKTtcclxufTtcclxuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsb2FkZXJBcmVhJylbMF0uY2xhc3NMaXN0LmFkZChcInVudmlzaWJsZVwiKTtcclxufSwgMTAwMCk7XHJcblxyXG4vLyDQkNC90LjQvNCw0YbQuNGPINGE0L7QvdCwINC/0YDQvtC40YHRhdC+0LTQuNGCINC/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRgdGC0YDQsNC90LjRhtGLXHJcbmZ1bmN0aW9uIGJnVmlzaWJsZSgpIHtcclxuICAgIHZhciBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19iZy1pbWdcIik7XHJcbiAgICB2YXIgbWFzc2l2ZUNsYXNzID0gZWxlbS5jbGFzc0xpc3Q7XHJcbiAgICBpZiAobWFzc2l2ZUNsYXNzLmNvbnRhaW5zKFwidW52aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgbWFzc2l2ZUNsYXNzLnJlbW92ZShcInVudmlzaWJsZVwiKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gU2hha2Ugc3VibWl0IGJ1dHRvblxyXG5mdW5jdGlvbiBzaGFrZSgpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLXN1Ym1pdCcpLmNsYXNzTGlzdC5hZGQoXCJzaGFrZV9hbmltYXRpb25cIik7XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tc3VibWl0JykuY2xhc3NMaXN0LnJlbW92ZShcInNoYWtlX2FuaW1hdGlvblwiKTtcclxuICAgIH0sIDcyMCk7XHJcbn1cclxuLy8g0KHRgtC40LvRjCDQtNC70Y8gaW5wdXQgbGluZSBib3R0b20gLSBvbmNoYW5nZS5cclxuZnVuY3Rpb24gYWRkSW5wdXRTdHlsZSh2YWx1ZSkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmFsdWUpLmNsYXNzTGlzdC5hZGQoXCJmb3JtX19pbnB1dC1jb2xvclwiKVxyXG59XHJcbmZ1bmN0aW9uIGRlbGV0ZUlucHV0U3R5bGUodmFsdWUpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHZhbHVlKS5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXQtY29sb3JcIilcclxufVxyXG5cclxuLy8g0J/RgNC+0LLQtdGA0LrQsCDRgNCw0LLQtdC90YHRgtCy0LAg0LfQvdCw0YfQtdC90LjQuSDQsiBwYXNzd29yZCBpbnB1dC5cclxuZnVuY3Rpb24gdmFsaWRhdGVQYXNzd29yZFZhbHVlKCkge1xyXG4gICAgdmFyIHBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXNzXCIpXHJcbiAgICAgICAgLCBjb25maXJtX3Bhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25mLXBhc3NcIik7XHJcbiAgICBpZiAocGFzc3dvcmQudmFsdWUgIT0gY29uZmlybV9wYXNzd29yZC52YWx1ZSkge1xyXG4gICAgICAgIGNvbmZpcm1fcGFzc3dvcmQuc2V0Q3VzdG9tVmFsaWRpdHkoXCLQn9Cw0YDQvtC70Lgg0L3QtSDRgdC+0LLQv9Cw0LTQsNGO0YJcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbmZpcm1fcGFzc3dvcmQuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlUGFzc3dvcmRDb25maXJtKCkge1xyXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzc1wiKS52YWx1ZSAhPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmYtcGFzc1wiKS52YWx1ZSkge1xyXG4gICAgICAgIHBhc3NNZXNzYWdlRG9Ob3RNYXRjaFZpc2libGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGFzc01lc3NhZ2VEb05vdE1hdGNoVW52aXNpYmxlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1Jc1ZhbGlkKCkge1xyXG4gICAgLy8gY2hlY2tWYWxpZGl0eSgpINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIHRydWUsINC10YHQu9C4INCy0YXQvtC00L3QvtC5INGN0LvQtdC80LXQvdGCINGB0L7QtNC10YDQttC40YIg0LTQvtC/0YPRgdGC0LjQvNGL0LUg0LTQsNC90L3Ri9C1LlxyXG4gICAgaWYgKGVtYWlsSXNWYWxpZCgpICYmIHBhc3NJc1ZhbGlkKCkgJiYgY29uZnBhc3NJc1ZhbGlkKCkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfSBlbHNlIHJldHVybiBmYWxzZVxyXG59XHJcblxyXG4vLyDQktGB0L/Qu9GL0LLQsNGO0YnQtdC1INC+0LrQvdC+INGBINGB0L7QvtCx0YnQtdC90LjQtdC8OiDigJzQoNC10LPQuNGB0YLRgNCw0YbQuNGPINC/0YDQvtGI0LvQsCDRg9GB0L/QtdGI0L3QvuKAnSArINC/0LvQsNCy0L3QsNGPINCw0L3QuNC80LDRhtC40Y8uXHJcbmZ1bmN0aW9uIHN1Y2Nlc3NNZXNzYWdlKCkge1xyXG4gICAgdmFyIEJsb2Nrc1JlZ2lzdHJhdGlvbiA9IHtcclxuICAgICAgICBGaXJzdEJsb2NrOiAnJyxcclxuICAgICAgICBTZWNvbmRCbG9jazogJycsXHJcbiAgICAgICAgVGhpcmRCbG9jazogJycsXHJcbiAgICAgICAgRm91cnRoQmxvY2s6ICcnLFxyXG4gICAgICAgIEZpZnRoQmxvY2s6ICcnXHJcbiAgICB9XHJcblxyXG4gICAgQmxvY2tzUmVnaXN0cmF0aW9uLkZpcnN0QmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZm9ybV9fZW50ZXItY29udGVudFwiKVswXTtcclxuICAgIEJsb2Nrc1JlZ2lzdHJhdGlvbi5TZWNvbmRCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybS1zdWJtaXRcIik7XHJcbiAgICBCbG9ja3NSZWdpc3RyYXRpb24uVGhpcmRCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0b3AtY29udGVudFwiKVswXTtcclxuICAgIEJsb2Nrc1JlZ2lzdHJhdGlvbi5Gb3VydGhCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJmb3JtX19iZy1pbWdcIilbMF07XHJcbiAgICBCbG9ja3NSZWdpc3RyYXRpb24uRmlmdGhCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyZWdpc3RlcmVkLW1lc3NhZ2VcIilbMF07XHJcblxyXG4gICAgYW5pbWF0ZWQoKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBCbG9ja3NSZWdpc3RyYXRpb24uRmlyc3RCbG9jay5jbGFzc0xpc3QuYWRkKFwidW52aXNpYmxlXCIpO1xyXG4gICAgICAgIEJsb2Nrc1JlZ2lzdHJhdGlvbi5TZWNvbmRCbG9jay5jbGFzc0xpc3QuYWRkKFwidW52aXNpYmxlXCIpO1xyXG4gICAgICAgIEJsb2Nrc1JlZ2lzdHJhdGlvbi5UaGlyZEJsb2NrLmNsYXNzTGlzdC5hZGQoXCJ1bnZpc2libGVcIik7XHJcbiAgICAgICAgQmxvY2tzUmVnaXN0cmF0aW9uLkZvdXJ0aEJsb2NrLmNsYXNzTGlzdC5hZGQoXCJ1bnZpc2libGVcIik7XHJcbiAgICAgICAgQmxvY2tzUmVnaXN0cmF0aW9uLkZpZnRoQmxvY2suY2xhc3NMaXN0LnJlbW92ZShcInVudmlzaWJsZVwiKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZm9ybV9fZW50ZXItY29udGVudFwiKVswXS5yZXNldCgpO1xyXG4gICAgfSwgNDUwKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBCbG9ja3NSZWdpc3RyYXRpb24uRmlyc3RCbG9jay5jbGFzc0xpc3QucmVtb3ZlKFwidW52aXNpYmxlXCIpO1xyXG4gICAgICAgIEJsb2Nrc1JlZ2lzdHJhdGlvbi5TZWNvbmRCbG9jay5jbGFzc0xpc3QucmVtb3ZlKFwidW52aXNpYmxlXCIpO1xyXG4gICAgICAgIEJsb2Nrc1JlZ2lzdHJhdGlvbi5UaGlyZEJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoXCJ1bnZpc2libGVcIik7XHJcbiAgICAgICAgQmxvY2tzUmVnaXN0cmF0aW9uLkZvdXJ0aEJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoXCJ1bnZpc2libGVcIik7XHJcbiAgICAgICAgQmxvY2tzUmVnaXN0cmF0aW9uLkZpZnRoQmxvY2suY2xhc3NMaXN0LmFkZChcInVudmlzaWJsZVwiKTtcclxuXHJcbiAgICB9LCA1MjAwKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGFuaW1hdGVkKCkge1xyXG4gICAgbWVzc2FnZVVudmlzaWJsZSgpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbWVzc2FnZVZpc2libGUoKTtcclxuICAgIH0sIDUwMCk7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtZXNzYWdlVW52aXNpYmxlKCk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VWaXNpYmxlKCk7XHJcbiAgICAgICAgfSwgNzAwKTtcclxuICAgIH0sIDQ1MDApO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gbWVzc2FnZVZpc2libGUoKSB7XHJcbiAgICB2YXIgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2lnbi1jb250ZW50XCIpWzBdLFxyXG4gICAgICAgIG1hc3NpdmVDbGFzcyA9IGVsZW0uY2xhc3NMaXN0O1xyXG5cclxuICAgIHZhciBleGlzdGVuY2VDbGFzcyA9IG1hc3NpdmVDbGFzcy5jb250YWlucyhcInVudmlzaWJsZVwiKTtcclxuICAgIGlmIChleGlzdGVuY2VDbGFzcyA9PSB0cnVlKSB7XHJcbiAgICAgICAgbWFzc2l2ZUNsYXNzLnJlbW92ZShcInVudmlzaWJsZVwiKTtcclxuICAgIH1cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1hc3NpdmVDbGFzcy5yZW1vdmUoXCJvcGFjaXR5Tm9uZVwiKTtcclxuICAgIH0sIDUwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWVzc2FnZVVudmlzaWJsZSgpIHtcclxuICAgIHZhciBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaWduLWNvbnRlbnRcIilbMF0sXHJcbiAgICAgICAgbWFzc2l2ZUNsYXNzID0gZWxlbS5jbGFzc0xpc3Q7XHJcbiAgICBtYXNzaXZlQ2xhc3MuYWRkKFwib3BhY2l0eU5vbmVcIik7XHJcbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGFkZEhpZGRlbkNsYXNzKCksIGZhbHNlKTtcclxufVxyXG5mdW5jdGlvbiBhZGRIaWRkZW5DbGFzcygpIHtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaWduLWNvbnRlbnRcIilbMF0sXHJcbiAgICAgICAgICAgIG1hc3NpdmVDbGFzcyA9IGVsZW0uY2xhc3NMaXN0O1xyXG4gICAgICAgIG1hc3NpdmVDbGFzcy5hZGQoXCJ1bnZpc2libGVcIik7XHJcbiAgICB9LCA1MDApO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZW1haWxJc1ZhbGlkKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZS1tYWlsXCIpLmNoZWNrVmFsaWRpdHkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFzc0lzVmFsaWQoKSB7XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXNzXCIpLmNoZWNrVmFsaWRpdHkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29uZnBhc3NJc1ZhbGlkKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZi1wYXNzXCIpLmNoZWNrVmFsaWRpdHkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW52YWxpZE1lc3NhZ2VWaXNpYmlsaXR5KHZhbHVlKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHZhbHVlKVswXS5jbGFzc0xpc3QucmVtb3ZlKFwidW52aXNpYmxlXCIpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh2YWx1ZSlbMF0uY2xhc3NMaXN0LmFkZChcInVudmlzaWJsZVwiKTtcclxuICAgIH0sIDMwMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbWFpbE1lc3NhZ2VWaXNpYmlsaXR5KCkge1xyXG4gICAgaWYgKCEoZW1haWxJc1ZhbGlkKCkpKSB7XHJcbiAgICAgICAgaW52YWxpZE1lc3NhZ2VWaXNpYmlsaXR5KCdlbWFpbC1tZXNzYWdlJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhc3NNZXNzYWdlVmlzaWJpbGl0eSgpIHtcclxuICAgIGlmICghKHBhc3NJc1ZhbGlkKCkgJiYgY29uZnBhc3NJc1ZhbGlkKCkpKSB7IH1cclxuICAgIGludmFsaWRNZXNzYWdlVmlzaWJpbGl0eSgncGFzcy1tZXNzYWdlJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhc3NNZXNzYWdlRG9Ob3RNYXRjaFZpc2libGUoKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwYXNzLW1lc3NhZ2UtZG8tbm90LW1hdGNoJylbMF0uY2xhc3NMaXN0LnJlbW92ZShcInVudmlzaWJsZVwiKTtcclxufVxyXG5mdW5jdGlvbiBwYXNzTWVzc2FnZURvTm90TWF0Y2hVbnZpc2libGUoKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwYXNzLW1lc3NhZ2UtZG8tbm90LW1hdGNoJylbMF0uY2xhc3NMaXN0LmFkZChcInVudmlzaWJsZVwiKTtcclxufVxyXG5cclxuXHJcbnZhciBmb3JtRGF0YSA9IHtcclxuICAgIEZpcnN0bmFtZTogJycsXHJcbiAgICBMYXN0TmFtZTogJycsXHJcbiAgICBOYXRpb25hbGl0eTogJycsXHJcbiAgICBFbWFpbDogJycsXHJcbiAgICBEYXRhT25lOiAnJyxcclxuICAgIERhdGFUd286ICcnLFxyXG4gICAgRGF0YVRocmVlOiAnJyxcclxuICAgIEdlbmRlcjogJycsXHJcbiAgICBQYXNzOiAnJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2VuZGVyQ2hlY2tlZCgpIHtcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hbGVcIikuY2hlY2tlZCkge1xyXG4gICAgICAgIHJldHVybiBcIm1hbGVcIlxyXG4gICAgfVxyXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmVhbWFsZVwiKS5jaGVja2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiZmVhbWFsZVwiXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNvbWVGdW5jKCkge1xyXG4gICAgZm9ybURhdGEuRmlyc3RuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaXJzdC1uYW1lXCIpLnZhbHVlO1xyXG4gICAgZm9ybURhdGEuTGFzdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhc3QtbmFtZVwiKS52YWx1ZTtcclxuICAgIGZvcm1EYXRhLk5hdGlvbmFsaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXRpb25hbGl0eVwiKS52YWx1ZTtcclxuICAgIGZvcm1EYXRhLkVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlLW1haWxcIikudmFsdWU7XHJcbiAgICBmb3JtRGF0YS5EYXRhT25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXlcIikudmFsdWU7XHJcbiAgICBmb3JtRGF0YS5EYXRhVHdvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb250aFwiKS52YWx1ZTtcclxuICAgIGZvcm1EYXRhLkRhdGFUaHJlZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieWVhclwiKS52YWx1ZTtcclxuICAgIGZvcm1EYXRhLkdlbmRlciA9IGdlbmRlckNoZWNrZWQoKTtcclxuICAgIGZvcm1EYXRhLlBhc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmYtcGFzc1wiKS52YWx1ZTtcclxufVxyXG5cclxudmFyIHN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwYXlsb2FkID0geyBmaXJzdG5hbWU6IGZvcm1EYXRhLkZpcnN0bmFtZSwgbGFzdG5hbWU6IGZvcm1EYXRhLkxhc3ROYW1lLCBuYXRpb25hbGl0eTogZm9ybURhdGEuTmF0aW9uYWxpdHksIGVtYWlsOiBmb3JtRGF0YS5FbWFpbCwgZGF0YTogZm9ybURhdGEuRGF0YU9uZSArICcgJyArIGZvcm1EYXRhLkRhdGFUd28gKyAnICcgKyBmb3JtRGF0YS5EYXRhVGhyZWUsIGdlbmRlcjogZm9ybURhdGEuR2VuZGVyLCBwYXNzOiBmb3JtRGF0YS5QYXNzIH07XHJcbiAgICBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vyc1wiLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkge1xyXG4gICAgaWYgKCEoZm9ybUlzVmFsaWQoKSkpIHtcclxuICAgICAgICBzaGFrZSgpO1xyXG4gICAgICAgIGVtYWlsTWVzc2FnZVZpc2liaWxpdHkoKTtcclxuICAgICAgICBpZiAoZW1haWxJc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgcGFzc01lc3NhZ2VWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc29tZUZ1bmMoKTtcclxuICAgICAgICBzdWJtaXQoKTtcclxuICAgICAgICBzdWNjZXNzTWVzc2FnZSgpO1xyXG4gICAgfVxyXG59Il19
